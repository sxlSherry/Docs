## 解决Linux下DNS配置重启失效问题 

但是DNS配置文件 /etc/resolv.conf 每次重启就会失效。 打开这个配置文件，发现有注释提示：

Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)# DO NOT EDIT THIS FILE BY HAND — YOUR CHANGES WILL BE OVERWRITTEN

原来系统已经提示我们不要手动改此文件，因为这里每次重启会被覆盖。

------

那么问题来了，怎么解决每次都要配置的问题呢？ 方法1 执行sudo vim /etc/network/interfaces 添加一行DNS配置，比如dns-nameservers 8.8.8.8 方法2 执行sudo vim /etc/resolvconf/resolv.conf.d/base 添加DNS配置，比如nameserver 8.8.8.8 如果有多个DNS就添加多行，一行一个 保存后执行resolvconf -u 此时，再打开/etc/resolv.conf会发现刚才添加的DNS配置了。 以后在重启就没问题了 ^_^



在/etc/sysconfig/network-scripts/ifcfg-eth0文件中直接加入DNS1=xxx.xxx.xxx.xxx，再service network restart，例如：

DEVICE="eth0"
BOOTPROTO="static"
HWADDR="00:0C:29:B5:E4:65"
NM_CONTROLLED="yes"
ONBOOT="yes"
IPADDR=192.168.128.133
NETMASK=255.255.255.0
GATEWAY=192.168.128.1
DNS1=222.46.120.6

systemctl network restart 重启后再来看看resolv.conf，多了一行 namerserver xxx.xxx.xxx.xx
nameserver 222.46.120.6
————————————————